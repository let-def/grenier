<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Order_managed_interval (grenier.Order_managed_interval)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">grenier</a> &#x00BB; Order_managed_interval</nav><header class="odoc-preamble"><h1>Module <code><span>Order_managed_interval</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#basic-ordering-operations">Basic ordering operations</a><ul><li><a href="#memory-management">Memory management</a></li></ul></li></ul></nav><div class="odoc-content"><h1 id="basic-ordering-operations"><a href="#basic-ordering-operations" class="anchor"></a>Basic ordering operations</h1><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>An element of an ordering.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-root" class="anchored"><a href="#val-root" class="anchor"></a><code><span><span class="keyword">val</span> root : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Create a new ordering with a single element. O(1)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-after" class="anchored"><a href="#val-after" class="anchor"></a><code><span><span class="keyword">val</span> after : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>after t</code> inserts a new element to the ordering, greater than <code>t</code> but less than all existing elements greater than <code>t</code>.</p><p>O(1) amortized.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-before" class="anchored"><a href="#val-before" class="anchor"></a><code><span><span class="keyword">val</span> before : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>before t</code> inserts a new element to the ordering, less than <code>t</code> but greater than all existing elements less than <code>t</code>.</p><p>O(1) amortized.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-inside" class="anchored"><a href="#val-inside" class="anchor"></a><code><span><span class="keyword">val</span> inside : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-outside" class="anchored"><a href="#val-outside" class="anchor"></a><code><span><span class="keyword">val</span> outside : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-same_order" class="anchored"><a href="#val-same_order" class="anchor"></a><code><span><span class="keyword">val</span> same_order : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check if two elements belong to the same order. O(1)</p></div></div><div class="odoc-spec"><div class="spec type" id="type-rel" class="anchored"><a href="#type-rel" class="anchor"></a><code><span><span class="keyword">type</span> rel</span><span> = </span></code><table><tr id="type-rel.Before" class="anchored"><td class="def variant constructor"><a href="#type-rel.Before" class="anchor"></a><code><span>| </span><span><span class="constructor">Before</span></span></code></td></tr><tr id="type-rel.Inside" class="anchored"><td class="def variant constructor"><a href="#type-rel.Inside" class="anchor"></a><code><span>| </span><span><span class="constructor">Inside</span></span></code></td></tr><tr id="type-rel.Equal" class="anchored"><td class="def variant constructor"><a href="#type-rel.Equal" class="anchor"></a><code><span>| </span><span><span class="constructor">Equal</span></span></code></td></tr><tr id="type-rel.Outside" class="anchored"><td class="def variant constructor"><a href="#type-rel.Outside" class="anchor"></a><code><span>| </span><span><span class="constructor">Outside</span></span></code></td></tr><tr id="type-rel.After" class="anchored"><td class="def variant constructor"><a href="#type-rel.After" class="anchor"></a><code><span>| </span><span><span class="constructor">After</span></span></code></td></tr></table></div><div class="spec-doc"><p>Compare two elements. O(1)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-rel">rel</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-cardinal" class="anchored"><a href="#val-cardinal" class="anchor"></a><code><span><span class="keyword">val</span> cardinal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>How many elements are ordered. O(1)</p></div></div><h2 id="memory-management"><a href="#memory-management" class="anchor"></a>Memory management</h2><div class="odoc-spec"><div class="spec value" id="val-forget" class="anchored"><a href="#val-forget" class="anchor"></a><code><span><span class="keyword">val</span> forget : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>When you know you are not going to use an element any longer, <code>forget</code> it to release memory. It makes operations slightly faster to not have to wait for the GC to release elements.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_valid" class="anchored"><a href="#val-is_valid" class="anchor"></a><code><span><span class="keyword">val</span> is_valid : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>After calling <code>forget</code>, an element should not be used. You can check if it is the case with <code>is_valid</code>.</p></div></div><p>Algorithm due to: Two Simplified Algorithms for Maintaining Order in a List Bender et al., 2002</p><div class="odoc-spec"><div class="spec value" id="val-unsafe_check" class="anchored"><a href="#val-unsafe_check" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_check : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>