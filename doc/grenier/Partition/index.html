<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Partition (grenier.Partition)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">grenier</a> &#x00BB; Partition</nav><header class="odoc-preamble"><h1>Module <code><span>Partition</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-set" class="anchored"><a href="#type-set" class="anchor"></a><code><span><span class="keyword">type</span> set</span><span> = int</span></code></div><div class="spec-doc"><p>Each set is identified by an integer</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'n t</span></span></code></div><div class="spec-doc"><p>A partitioning structure for a set of cardinal 'n \ (encoded as a Strong.Natural)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : 
  <span>?partition:<span>( <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span> <span class="arrow">&#45;&gt;</span></span> int )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-set">Strong.Finite.set</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'n</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>create ?partition n</code> create a fresh partitioning data structure for a set of cardinal <code>n</code>. If <code>partition</code> is not provided, the datastructure is initialized with a single subset that contains all elements. Otherwise, <code>partition</code> must be a total ordering function and elements that can be distinguished are put in different subsets.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mark" class="anchored"><a href="#val-mark" class="anchor"></a><code><span><span class="keyword">val</span> mark : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>mark part elt</code> marks the element <code>elt</code> as active. The datastructure manages an active set by marking a certain number of elements, and then applying an operation to all of them at once.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-split" class="anchored"><a href="#val-split" class="anchor"></a><code><span><span class="keyword">val</span> split : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Put marked elements in different sets. That is, each input set is split in two subsets one with the marked and one with the unmarked elements. Active set is reset after (no elements are marked).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-discard_unmarked" class="anchored"><a href="#val-discard_unmarked" class="anchor"></a><code><span><span class="keyword">val</span> discard_unmarked : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Elements that are not marked are removed from the partition (they will be ignored by future operations). In practice, they are considered as belonging to set <code>-1</code> (which can be observed by <code>set_of</code> function), and this <code>-1</code> set is not counted by the <code>set_count</code> function. Active set is reset after (no elements are marked).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-discard" class="anchored"><a href="#val-discard" class="anchor"></a><code><span><span class="keyword">val</span> discard : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span> <span class="arrow">&#45;&gt;</span></span> bool )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>discard part f</code> calls the function <code>f</code> for each element in the set and discard it if the function returns <code>true</code>. Active set must be empty before and is reset after (no elements are marked).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_count" class="anchored"><a href="#val-set_count" class="anchor"></a><code><span><span class="keyword">val</span> set_count : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Number of sets in the current partition</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_of" class="anchored"><a href="#val-set_of" class="anchor"></a><code><span><span class="keyword">val</span> set_of : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-set">set</a></span></code></div><div class="spec-doc"><p><code>set_of part elt</code> returns the index of the set that contains element <code>elt</code>. Result is between <code>0</code> and <code>set_of part - 1</code> unless the element has been discarded, in which case it is <code>-1</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-choose" class="anchored"><a href="#val-choose" class="anchor"></a><code><span><span class="keyword">val</span> choose : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-set">set</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span></span></code></div><div class="spec-doc"><p><code>choose part set</code> returns an arbitrary element that belongs to set <code>set</code>. <code>set</code> must be between <code>0</code> and <code>set_of part - 1</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-choose_opt" class="anchored"><a href="#val-choose_opt" class="anchor"></a><code><span><span class="keyword">val</span> choose_opt : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-set">set</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span> option</span></span></code></div><div class="spec-doc"><p><code>choose part set</code> returns an arbitrary element that belongs to set <code>set</code>. <code>set</code> must be between <code>0</code> and <code>set_of part - 1</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter_elements" class="anchored"><a href="#val-iter_elements" class="anchor"></a><code><span><span class="keyword">val</span> iter_elements : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-set">set</a> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter_elements part set f</code> applies function <code>f</code> to each element that currently belongs to set <code>set</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter_marked_elements" class="anchored"><a href="#val-iter_marked_elements" class="anchor"></a><code><span><span class="keyword">val</span> iter_marked_elements : 
  <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-set">set</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>iter_marked_elements part set f</code> applies function <code>f</code> to each element that currently belongs to set <code>set</code> and is marked.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-clear_marks" class="anchored"><a href="#val-clear_marks" class="anchor"></a><code><span><span class="keyword">val</span> clear_marks : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove all marks (reset the active set)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-marked_sets" class="anchored"><a href="#val-marked_sets" class="anchor"></a><code><span><span class="keyword">val</span> marked_sets : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-set">set</a> list</span></span></code></div><div class="spec-doc"><p>Returns all sets that have marked elements.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_first" class="anchored"><a href="#val-is_first" class="anchor"></a><code><span><span class="keyword">val</span> is_first : <span><span><span class="type-var">'n</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'n</span> <a href="../Strong/Finite/index.html#type-elt">Strong.Finite.elt</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div></div></body></html>