<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bt2 (grenier.Bt2)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">grenier</a> &#x00BB; Bt2</nav><h1>Module <code>Bt2</code></h1><nav class="toc"><ul><li><a href="#convenience-functions">Convenience functions</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>(+'a, +'b) t</span></code><code> = <span class="keyword">private</span> </code><table class="variant"><tr id="type-t.Leaf" class="anchored"><td class="def constructor"><a href="#type-t.Leaf" class="anchor"></a><code>| </code><code><span class="constructor">Leaf</span></code></td></tr><tr id="type-t.Node" class="anchored"><td class="def constructor"><a href="#type-t.Node" class="anchor"></a><code>| </code><code><span class="constructor">Node</span> <span class="keyword">of</span> int * <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> * <span class="type-var">'a</span> * <span class="type-var">'b</span> * <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></td><td class="doc"><p><code>Node(size, l, x, r)</code> where:</p><ul><li><code>size</code> is the number of elements in the tree,</li><li><code>l</code> is the left sub-tree</li><li><code>x</code> is a user-defined value</li><li><code>r</code> is the right sub-tree.</li></ul><p>Trees are guaranteed balanced by construction, the depth of all branches is O(log <code>size</code>).</p></td></tr></table></dt><dd><h2 id="type-of-balanced-trees-with-two-custom-values-(more-efficient-than-a-pair)"><a href="#type-of-balanced-trees-with-two-custom-values-(more-efficient-than-a-pair)" class="anchor"></a>Type of balanced trees with two custom values (more efficient than a pair)</h2></dd></dl><dl><dt class="spec value" id="val-leaf"><a href="#val-leaf" class="anchor"></a><code><span class="keyword">val</span> leaf : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Leaf constructor, the empty tree</p></dd></dl><dl><dt class="spec value" id="val-node"><a href="#val-node" class="anchor"></a><code><span class="keyword">val</span> node : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Smart Node constructor, ensuring that the resulting tree is balanced and has the appropriate size.</p><p>Cost of <code>node l x r</code> is expected to be O(log |<code>size l</code> - <code>size r</code>|) amortized, i.e proportional to the logarithm of the disbalance. In particular, if <code>l</code> and <code>r</code> are similarly-sized, it operates in constant time on average. NOT PROVEN</p><p>User-values can be moved in different subtrees of the result, but the ordering is preserved (so data stay correct if the operation applied on values is associative or the relation expected between them is transitive).</p></dd></dl><section><header><h2 id="convenience-functions"><a href="#convenience-functions" class="anchor"></a>Convenience functions</h2></header><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val</span> size : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Accessor to the size</p></dd></dl><dl><dt class="spec value" id="val-join"><a href="#val-join" class="anchor"></a><code><span class="keyword">val</span> join : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Concatenate two trees. Cost of <code>join l r</code> is O(log (min <code>size l</code> <code>size r</code>)). NOT PROVEN</p></dd></dl><dl><dt class="spec value" id="val-rank"><a href="#val-rank" class="anchor"></a><code><span class="keyword">val</span> rank : int <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> * <span class="type-var">'b</span></code></dt><dd><p>Return the n'th node in tree order</p></dd></dl></section></div></body></html>